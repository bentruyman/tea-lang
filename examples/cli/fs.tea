use fs = "std.fs"
use debug = "std.debug"

# Demonstrates the expanded std.fs helpers:
# - ensure_dir / ensure_parent for creating directories
# - atomic writes for text/bytes
# - list_dir, walk, glob, and metadata
fs.ensure_dir("tmp/fs-demo")

fs.write_text_atomic("tmp/fs-demo/README.txt", "hello from std.fs")
fs.ensure_parent("tmp/fs-demo/logs/demo.log")
fs.write_text_atomic("tmp/fs-demo/logs/demo.log", "first entry")

debug.print("list_dir:")
debug.print(fs.list_dir("tmp/fs-demo"))

debug.print("walk:")
debug.print(fs.walk("tmp/fs-demo"))

debug.print("glob:")
debug.print(fs.glob("tmp/fs-demo/**/*.txt"))

debug.print("metadata:")
debug.print(fs.metadata("tmp/fs-demo/README.txt"))

fs.remove("tmp/fs-demo/logs/demo.log")
fs.remove("tmp/fs-demo/logs")
fs.remove("tmp/fs-demo/README.txt")
fs.remove("tmp/fs-demo")
