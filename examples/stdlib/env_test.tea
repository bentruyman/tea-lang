# Test the Tea stdlib/env module directly

use env = "../../stdlib/env/mod.tea"

pub def test_env() -> Void
  print("=== Testing env module ===")

  # Test home_dir
  var home = env.home_dir()
  print("Home: " + home)

  # Test cwd
  var cwd = env.cwd()
  print("CWD: " + cwd)

  # Test has
  if env.has("PATH")
    print("✓ PATH variable exists")
  end

  # Test get_or
  var editor = env.get_or("EDITOR", "vim")
  print("Editor:")
  print(editor)

  # Test set/get/unset
  env.set("TEA_TEST_VAR", "test_value")

  if env.has("TEA_TEST_VAR")
    print("✓ env.set works")
    var val = env.get("TEA_TEST_VAR")
    print("Value: " + val)
  end

  env.unset("TEA_TEST_VAR")

  if ! env.has("TEA_TEST_VAR")
    print("✓ env.unset works")
  end

  # Test temp_dir and config_dir
  var tmp = env.temp_dir()
  print("Temp: " + tmp)

  var config = env.config_dir()
  print("Config: " + config)

  print("=== All env tests passed ===")
end

test_env()
